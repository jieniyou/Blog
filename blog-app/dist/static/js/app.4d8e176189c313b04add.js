webpackJsonp([12],{"2hfY":function(t,e,n){"use strict";e.a=function(t){var e=new Date(t),n=(Date.now()-e)/1e3;if(n<30)return"刚刚";if(n<3600)return Math.ceil(n/60)+"分钟前";if(n<86400)return Math.ceil(n/3600)+"小时前";if(n<172800)return"1天前";return t}},"33ZO":function(t,e,n){"use strict";var i={name:"BaseHeader",props:{activeIndex:String,simple:{type:Boolean,default:!1}},data:function(){return{}},computed:{user:function(){return{login:0!=this.$store.state.account.length,avatar:this.$store.state.avatar}}},methods:{logout:function(){var t=this,e=this;this.$store.dispatch("logout").then(function(){t.$router.push({path:"/"})}).catch(function(t){"error"!==t&&e.$message({message:t,type:"error",showClose:!0})})}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-header",{staticClass:"me-area"},[i("el-row",{staticClass:"me-header"},[i("el-col",{staticClass:"me-header-left",attrs:{span:4}},[i("router-link",{staticClass:"me-title",attrs:{to:"/"}},[i("img",{attrs:{src:n("dLd/")}})])],1),t._v(" "),t.simple?[t._t("default")]:i("el-col",{attrs:{span:16}},[i("el-menu",{attrs:{router:!0,"menu-trigger":"click","active-text-color":"#5FB878","default-active":t.activeIndex,mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"/"}},[t._v("首页")]),t._v(" "),i("el-menu-item",{attrs:{index:"/category/all"}},[t._v("文章分类")]),t._v(" "),i("el-menu-item",{attrs:{index:"/tag/all"}},[t._v("标签")]),t._v(" "),i("el-menu-item",{attrs:{index:"/archives"}},[t._v("文章归档")]),t._v(" "),i("el-col",{attrs:{span:4,offset:4}},[i("el-menu-item",{attrs:{index:"/write"}},[i("i",{staticClass:"el-icon-edit"}),t._v("写文章")])],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:4}},[i("el-menu",{attrs:{router:!0,"menu-trigger":"click",mode:"horizontal","active-text-color":"#5FB878"}},[t.user.login?[i("el-submenu",{attrs:{index:""}},[i("template",{slot:"title"},[i("img",{staticClass:"me-header-picture",attrs:{src:t.user.avatar}})]),t._v(" "),i("el-menu-item",{attrs:{index:""},on:{click:t.logout}},[i("i",{staticClass:"el-icon-back"}),t._v("退出")])],2)]:[i("el-menu-item",{attrs:{index:"/login"}},[i("el-button",{attrs:{type:"text"}},[t._v("登录")])],1),t._v(" "),i("el-menu-item",{attrs:{index:"/register"}},[i("el-button",{attrs:{type:"text"}},[t._v("注册")])],1)]],2)],1)],2)],1)},staticRenderFns:[]};var o=n("VU/8")(i,a,!1,function(t){n("njJV")},null,null);e.a=o.exports},"7dy0":function(t,e){},"7xIN":function(t,e){},"8e2z":function(t,e){},"9Tql":function(t,e){!function(){function t(t,e,n){return t.getAttribute(e)||n}function e(t){return document.getElementsByTagName(t)}function n(){a=u.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=u.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function i(){h.clearRect(0,0,a,o);var t,e,n,r,s,l,u=[m].concat(y);y.forEach(function(i){for(i.x+=i.xa,i.y+=i.ya,i.xa*=i.x>a||i.x<0?-1:1,i.ya*=i.y>o||i.y<0?-1:1,h.fillRect(i.x-.5,i.y-.5,1,1),e=0;e<u.length;e++)i!==(t=u[e])&&null!==t.x&&null!==t.y&&(r=i.x-t.x,s=i.y-t.y,(l=r*r+s*s)<t.max&&(t===m&&l>=t.max/2&&(i.x-=.03*r,i.y-=.03*s),n=(t.max-l)/t.max,h.beginPath(),h.lineWidth=n/2,h.strokeStyle="rgba("+c.c+","+(n+.2)+")",h.moveTo(i.x,i.y),h.lineTo(t.x,t.y),h.stroke()));u.splice(u.indexOf(i),1)}),p(i)}var a,o,r,s,l,u=document.createElement("canvas"),c=(r=e("script"),s=r.length,l=r[s-1],{l:s,z:t(l,"zIndex",-1),o:t(l,"opacity",1),c:t(l,"color","255,165,0"),n:t(l,"count",150)}),d="c_n"+c.l,h=u.getContext("2d"),p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/45)},f=Math.random,m={x:null,y:null,max:2e4};u.id=d,u.style.cssText="position:fixed;top:0;left:0;z-index:"+c.z+";opacity:"+c.o,e("body")[0].appendChild(u),n(),window.onresize=n,window.onmousemove=function(t){t=t||window.event,m.x=t.clientX,m.y=t.clientY},window.onmouseout=function(){m.x=null,m.y=null};for(var y=[],v=0;c.n>v;v++){var g=f()*a,w=f()*o,b=2*f()-1,x=2*f()-1;y.push({x:g,y:w,xa:b,ya:x,max:6e3})}setTimeout(function(){i()},100)}()},"9dmJ":function(t,e){},GeOV:function(t,e){},IcnI:function(t,e,n){"use strict";var i=n("//Fk"),a=n.n(i),o=n("NYxO"),r=n("7+uW"),s=n("Moy7"),l=n("M9A7");r.default.use(o.a),e.a=new o.a.Store({state:{id:"",account:"",name:"",avatar:"",token:Object(s.a)()},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_ACCOUNT:function(t,e){t.account=e},SET_NAME:function(t,e){t.name=e},SET_AVATAR:function(t,e){t.avatar=e},SET_ID:function(t,e){t.id=e}},actions:{login:function(t,e){var n=t.commit;return new a.a(function(t,i){Object(l.b)(e.account,e.password).then(function(e){e.success?(n("SET_TOKEN",e.data),Object(s.c)(e.data),t()):i(e.msg)}).catch(function(t){i(t)})})},getUserInfo:function(t){var e=t.commit,n=t.state;return new a.a(function(t,i){Object(l.a)(n.token).then(function(n){n.success?(e("SET_ACCOUNT",n.data.account),e("SET_NAME",n.data.nickname),e("SET_AVATAR",n.data.avatar),e("SET_ID",n.data.id),t(n)):(e("SET_ACCOUNT",""),e("SET_NAME",""),e("SET_AVATAR",""),e("SET_ID",""),Object(s.b)(),t(n))}).catch(function(t){e("SET_ACCOUNT",""),e("SET_NAME",""),e("SET_AVATAR",""),e("SET_ID",""),Object(s.b)(),i(t)})})},logout:function(t){var e=t.commit,n=t.state;return new a.a(function(t,i){Object(l.c)(n.token).then(function(n){n.success&&(e("SET_TOKEN",""),e("SET_ACCOUNT",""),e("SET_NAME",""),e("SET_AVATAR",""),e("SET_ID",""),Object(s.b)(),t())}).catch(function(t){i(t)})})},fedLogOut:function(t){var e=t.commit;return new a.a(function(t){e("SET_TOKEN",""),e("SET_ACCOUNT",""),e("SET_NAME",""),e("SET_AVATAR",""),e("SET_ID",""),Object(s.b)(),t()}).catch(function(t){reject(t)})},register:function(t,e){var n=t.commit;return new a.a(function(t,i){Object(l.d)(e.account,e.nickname,e.password).then(function(e){e.success?(n("SET_TOKEN",e.data),Object(s.c)(e.data),t()):i(e.msg)}).catch(function(t){i(t)})})}}})},LghE:function(t,e){},M9A7:function(t,e,n){"use strict";e.b=function(t,e){var n={account:t,password:e};return Object(i.a)({url:"/login",method:"post",data:n})},e.c=function(t){return Object(i.a)({headers:{Authorization:t},url:"/logout",method:"get"})},e.a=function(t){return Object(i.a)({headers:{Authorization:t},url:"/users/currentUser",method:"get"})},e.d=function(t,e,n){var a={account:t,nickname:e,password:n};return Object(i.a)({url:"/register",method:"post",data:a})};var i=n("OOvn")},Moy7:function(t,e,n){"use strict";e.a=function(){return localStorage.token},e.c=function(t){return localStorage.token=t},e.b=function(){return localStorage.removeItem("token")}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("fCJj");var i=n("qBF2"),a=n.n(i),o=n("7+uW"),r=(n("sjH1"),n("//Fk")),s=n.n(r),l="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/";function u(t,e){return new s.a(function(n,i){var a=void 0;"css"===e?((a=document.createElement("link")).rel="stylesheet",a.href=t):"js"===e&&((a=document.createElement("script")).src=t),a&&(a.onload=function(){return n(t)},a.onerror=function(){return i(t)},document.head.appendChild(a))})}screen.width>=768&&s.a.all([u(l+"waifu.css","css"),u(l+"live2d.min.js","js"),u(l+"waifu-tips.js","js")]).then(function(){initWidget({waifuPath:l+"waifu-tips.json",cdnPath:"https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/"})}),console.log("\n  く__,.ヘヽ.        /  ,ー､ 〉\n           ＼ ', !-─‐-i  /  /´\n           ／｀ｰ'       L/／｀ヽ､\n         /   ／,   /|   ,   ,       ',\n       ｲ   / /-‐/  ｉ  L_ ﾊ ヽ!   i\n        ﾚ ﾍ 7ｲ｀ﾄ   ﾚ'ｧ-ﾄ､!ハ|   |\n          !,/7 '0'     ´0iソ|    |\n          |.从\"    _     ,,,, / |./    |\n          ﾚ'| i＞.､,,__  _,.イ /   .i   |\n            ﾚ'| | / k_７_/ﾚ'ヽ,  ﾊ.  |\n              | |/i 〈|/   i  ,.ﾍ |  i  |\n             .|/ /  ｉ：    ﾍ!    ＼  |\n              kヽ>､ﾊ    _,.ﾍ､    /､!\n              !'〈//｀Ｔ´', ＼ ｀'7'ｰr'\n              ﾚ'ヽL__|___i,___,ンﾚ|ノ\n                  ﾄ-,/  |___./\n                  'ｰ'    !_,.:\n");var c={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};n("VU/8")({name:"kanbanA"},c,!1,function(t){n("nn8I")},null,null).exports,n("crmB");var d={name:"GoTop",data:function(){return{topShow:!1}},methods:{toTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.topShow=!1},needToTop:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;this.topShow=t>400}},mounted:function(){this.$nextTick(function(){window.addEventListener("scroll",this.needToTop)})}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.topShow,expression:"topShow"}],staticClass:"me-to-top",on:{click:this.toTop}},[e("i",{staticClass:"el-icon-caret-top"})])])},staticRenderFns:[]};var p=n("VU/8")(d,h,!1,function(t){n("gaZc")},null,null).exports,f=(n("9Tql"),{render:function(){var t=this.$createElement;return(this._self._c||t)("canvas")},staticRenderFns:[]});n("VU/8")({name:"MouseMove"},f,!1,function(t){n("Wuu4")},null,null).exports,n("VDFw");var m={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};n("VU/8")({name:"MouseClick"},m,!1,function(t){n("8e2z")},"data-v-21957c24",null).exports,n("Qjri"),n("pX3n");var y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"aplayer",attrs:{id:"aplayer","data-autoplay":"true","data-id":"7510894589","data-server":"netease","data-type":"playlist","data-fixed":"true","data-listfolded":"true","data-order":"random","data-theme":"#F58EA8"}})},staticRenderFns:[]};n("VU/8")({name:"Music"},y,!1,function(t){n("LghE")},null,null).exports,n("9dmJ");var v={name:"App",components:{GoTop:p}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("go-top")],1)},staticRenderFns:[]};var w=n("VU/8")(v,g,!1,function(t){n("SIxv")},null,null).exports,b=n("2X9z"),x=n.n(b),T=n("/ocq"),k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-footer",{staticClass:"me-area"},[e("div",{staticClass:"me-footer"},[e("p",[this._v("Designed by\n      "),e("strong",[e("router-link",{staticClass:"me-login-design-color",attrs:{to:"/"}},[this._v("解你忧")])],1)])])])},staticRenderFns:[]};var M=n("VU/8")({name:"BaseFooter",data:function(){return{}},methods:{},mounted:function(){}},k,!1,function(t){n("7dy0")},null,null).exports,_={name:"Home",data:function(){return{activeIndex:"/",footerShow:!0}},components:{"base-header":n("33ZO").a,"base-footer":M},beforeRouteEnter:function(t,e,n){n(function(e){e.activeIndex=t.path})},beforeRouteUpdate:function(t,e,n){"/"==t.path?this.footerShow=!0:this.footerShow=!1,this.activeIndex=t.path,n()}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"home"}},[e("el-container",[e("base-header",{attrs:{activeIndex:this.activeIndex}}),this._v(" "),e("router-view",{staticClass:"me-container"}),this._v(" "),e("base-footer",{directives:[{name:"show",rawName:"v-show",value:this.footerShow,expression:"footerShow"}]})],1)],1)},staticRenderFns:[]};var L=n("VU/8")(_,E,!1,function(t){n("GeOV")},null,null).exports,O=n("IcnI"),q=n("Moy7");o.default.use(T.a);var S=new T.a({routes:[{path:"/write/:id?",component:function(t){return Promise.all([n.e(0),n.e(2)]).then(function(){return t(n("tgdm"))}.bind(null,n)).catch(n.oe)},meta:{requireLogin:!0}},{path:"",name:"Home",component:L,children:[{path:"/",component:function(t){return Promise.all([n.e(0),n.e(3)]).then(function(){return t(n("mlqX"))}.bind(null,n)).catch(n.oe)}},{path:"/log",component:function(t){return n.e(9).then(function(){return t(n("joCn"))}.bind(null,n)).catch(n.oe)}},{path:"/archives/:year?/:month?",component:function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){return t(n("3/TF"))}.bind(null,n)).catch(n.oe)}},{path:"/messageBoard",component:function(t){return n.e(8).then(function(){return t(n("ncpC"))}.bind(null,n)).catch(n.oe)}},{path:"/view/:id",component:function(t){return Promise.all([n.e(0),n.e(1)]).then(function(){return t(n("u66k"))}.bind(null,n)).catch(n.oe)}},{path:"/:type/all",component:function(t){return Promise.all([n.e(0),n.e(10)]).then(function(){return t(n("4fko"))}.bind(null,n)).catch(n.oe)}},{path:"/:type/:id",component:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){return t(n("8wPo"))}.bind(null,n)).catch(n.oe)}}]},{path:"/login",component:function(t){return n.e(5).then(function(){return t(n("lmfZ"))}.bind(null,n)).catch(n.oe)}},{path:"/register",component:function(t){return n.e(4).then(function(){return t(n("tcoL"))}.bind(null,n)).catch(n.oe)}}],scrollBehavior:function(t,e,n){return{x:0,y:0}}});S.beforeEach(function(t,e,n){Object(q.a)()?"/login"===t.path?n({path:"/"}):0===O.a.state.account.length?O.a.dispatch("getUserInfo").then(function(t){n()}).catch(function(){x()({type:"warning",showClose:!0,message:"登录已过期"}),n({path:"/"})}):n():t.matched.some(function(t){return t.meta.requireLogin})?x()({type:"warning",showClose:!0,message:"请先登录哦"}):n()});var A=S,C=n("M4fF"),j=n.n(C),B=(n("7xIN"),n("2hfY"));o.default.config.productionTip=!1,o.default.use(a.a),Object.defineProperty(o.default.prototype,"$_",{value:j.a}),o.default.directive("title",function(t,e){document.title=t.dataset.title}),o.default.filter("format",B.a),new o.default({el:"#app",router:A,store:O.a,template:"<App/>",components:{App:w}})},OOvn:function(t,e,n){"use strict";var i=n("2X9z"),a=n.n(i),o=n("//Fk"),r=n.n(o),s=n("mtWM"),l=n.n(s),u=n("IcnI"),c=n("Moy7"),d=l.a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API,timeout:1e4});d.interceptors.request.use(function(t){return u.a.state.token&&(t.headers["Oauth-Token"]=Object(c.a)()),t},function(t){r.a.reject(t)}),d.interceptors.response.use(function(t){"timeout"==t.headers.session_time_out&&u.a.dispatch("fedLogOut");var e=t.data;return 200!==e.code?90001===e.code?r.a.reject("error"):90002===e.code?(a()({type:"warning",showClose:!0,message:"未登录或登录超时，请重新登录哦"}),r.a.reject("error")):70001===e.code?(console.info("权限认证错误"),a()({type:"warning",showClose:!0,message:"你没有权限访问哦"}),r.a.reject("error")):r.a.reject(e.msg):t.data},function(t){return a()({type:"warning",showClose:!0,message:"连接超时"}),r.a.reject("error")}),e.a=d},Qjri:function(t,e,n){"use strict";(function(t){var e,i,a=n("FUy+"),o=n.n(a),r=n("YQ7m"),s=n.n(r),l=n("Zx67"),u=n.n(l),c=n("OvRC"),d=n.n(c),h=n("mvHQ"),p=n.n(h),f=n("Zzip"),m=n.n(f),y=n("5QVw"),v=n.n(y),g=n("c/Tr"),w=n.n(g),b=n("C4MV"),x=n.n(b),T=n("pFYg"),k=n.n(T);e=window,i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||x()(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=41)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return(e>0?[e,n,i]:[n,i]).map(function(t){return t<10?"0"+t:""+t}).join(":")},getElementViewLeft:function(t){var e=t.offsetLeft,n=t.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==t;)e+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e-i},getElementViewTop:function(t,e){for(var n,i=t.offsetTop,a=t.offsetParent;null!==a;)i+=a.offsetTop,a=a.offsetParent;return n=document.body.scrollTop+document.documentElement.scrollTop,e?i:i-n},isMobile:i,storage:{set:function(t,e){localStorage.setItem(t,e)},get:function(t){return localStorage.getItem(t)}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"},randomOrder:function(t){return function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),i=t[n];t[n]=t[e],t[e]=i}return t}([].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return w()(t)}(Array(t))).map(function(t,e){return e}))}};e.default=a},function(t,e,n){var i=n(2);t.exports=function(t){t=t||{};var e="",n=i.$each,a=t.audio,o=(t.$value,t.$index,i.$escape),r=t.theme,s=t.index;return n(a,function(t,n){e+='\n<li>\n    <span class="aplayer-list-cur" style="background-color: ',e+=o(t.theme||r),e+=';"></span>\n    <span class="aplayer-list-index">',e+=o(n+s),e+='</span>\n    <span class="aplayer-list-title">',e+=o(t.name),e+='</span>\n    <span class="aplayer-list-author">',e+=o(t.artist),e+="</span>\n</li>\n"}),e}},function(t,e,n){t.exports=n(15)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=g(n(33)),a=g(n(32)),o=g(n(31)),r=g(n(30)),s=g(n(29)),l=g(n(28)),u=g(n(27)),c=g(n(26)),d=g(n(25)),h=g(n(24)),p=g(n(23)),f=g(n(22)),m=g(n(21)),y=g(n(20)),v=g(n(19));function g(t){return t&&t.__esModule?t:{default:t}}var w={play:i.default,pause:a.default,volumeUp:o.default,volumeDown:r.default,volumeOff:s.default,orderRandom:l.default,orderList:u.default,menu:c.default,loopAll:d.default,loopOne:h.default,loopNone:p.default,loading:f.default,right:m.default,skip:y.default,lrc:v.default};e.default=w},function(t,e,n){var i,a="function"==typeof v.a&&"symbol"==k()(m.a)?function(t){return void 0===t?"undefined":k()(t)}:function(t){return t&&"function"==typeof v.a&&t.constructor===v.a&&t!==v.a.prototype?"symbol":void 0===t?"undefined":k()(t)};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":a(window))&&(i=window)}t.exports=i},function(t,e,n){var i,a,o="function"==typeof v.a&&"symbol"==k()(m.a)?function(t){return void 0===t?"undefined":k()(t)}:function(t){return t&&"function"==typeof v.a&&t.constructor===v.a&&t!==v.a.prototype?"symbol":void 0===t?"undefined":k()(t)};void 0===(a="function"==typeof(i=function(){if("object"===("undefined"==typeof window?"undefined":o(window))&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var t=function(t,e,n,i){return n>i?e:t+(e-t)*((a=n/i)<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1);var a},e=function(e,n,i,a){n=n||500;var o=(a=a||window).scrollTop||window.pageYOffset;if("number"==typeof e)var r=parseInt(e);else r=function(t,e){return"HTML"===t.nodeName?-e:t.getBoundingClientRect().top+e}(e,o);var s=Date.now(),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,15)};!function u(){var c=Date.now()-s;a!==window?a.scrollTop=t(o,r,c,n):window.scroll(0,t(o,r,c,n)),c>n?"function"==typeof i&&i(e):l(u)}()},n=function(t){if(!t.defaultPrevented){t.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var n=document.getElementById(this.hash.substring(1));if(!n)return;e(n,500,function(t){location.replace("#"+t.id)})}};return document.addEventListener("DOMContentLoaded",function(){for(var t,e=document.querySelectorAll('a[href^="#"]:not([href="#"])'),i=e.length;t=e[--i];)t.addEventListener("click",n,!1)}),e}})?i.call(e,n,e,t):i)||(t.exports=a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=s(n(1)),o=s(n(0)),r=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.index=0,this.audios=this.player.options.audio,this.bindEvents()}return i(t,[{key:"bindEvents",value:function(){var t=this;this.player.template.list.addEventListener("click",function(e){var n=void 0;n="LI"===e.target.tagName.toUpperCase()?e.target:e.target.parentElement;var i=parseInt(n.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;i!==t.index?(t.switch(i),t.player.play()):t.player.toggle()})}},{key:"show",value:function(){this.player.events.trigger("listshow"),this.player.template.list.classList.remove("aplayer-list-hide"),this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide"),this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(t){this.player.events.trigger("listadd",{audios:t}),"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.map(function(t){return t.name=t.name||t.title||"Audio name",t.artist=t.artist||t.author||"Audio artist",t.cover=t.cover||t.pic,t.type=t.type||"normal",t});var e=!(this.audios.length>1),n=0===this.audios.length;this.player.template.listOl.innerHTML+=(0,a.default)({theme:this.player.options.theme,audio:t,index:this.audios.length+1}),this.audios=this.audios.concat(t),e&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist"),this.player.randomOrder=o.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=t.theme||this.player.options.theme,n&&("random"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(t){if(this.player.events.trigger("listremove",{index:t}),this.audios[t])if(this.audios.length>1){var e=this.player.container.querySelectorAll(".aplayer-list li");e[t].remove(),this.audios.splice(t,1),this.player.lrc&&this.player.lrc.remove(t),t===this.index&&(this.audios[t]?this.switch(t):this.switch(t-1)),this.index>t&&this.index--;for(var n=t;n<e.length;n++)e[n].getElementsByClassName("aplayer-list-index")[0].textContent=n;1===this.audios.length&&this.player.container.classList.remove("aplayer-withlist"),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(t){if(this.player.events.trigger("listswitch",{index:t}),void 0!==t&&this.audios[t]){this.index=t;var e=this.audios[this.index];this.player.template.pic.style.backgroundImage=e.cover?"url('"+e.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=e.name,this.player.template.author.innerHTML=e.artist?" - "+e.artist:"";var n=this.player.container.getElementsByClassName("aplayer-list-light")[0];n&&n.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),(0,r.default)(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(e),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),1!==this.player.duration&&(this.player.template.dtime.innerHTML=o.default.secondToTime(this.player.duration))}}},{key:"clear",value:function(){this.player.events.trigger("listclear"),this.index=0,this.player.container.classList.remove("aplayer-withlist"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src="",this.player.template.listOl.innerHTML="",this.player.template.pic.style.backgroundImage="",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML="No audio",this.player.template.author.innerHTML="",this.player.bar.set("loaded",0,"width"),this.player.template.dtime.innerHTML=o.default.secondToTime(0)}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return i(t,[{key:"on",value:function(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}},{key:"trigger",value:function(t,e){if(this.events[t]&&this.events[t].length)for(var n=0;n<this.events[t].length;n++)this.events[t][n](e)}},{key:"type",value:function(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.audioEvents.indexOf(t)?"audio":(console.error("Unknown event name: "+t),null)}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.types=["loading"],this.init()}return i(t,[{key:"init",value:function(){var t=this;this.types.forEach(function(e){t["init"+e+"Checker"]()})}},{key:"initloadingChecker",value:function(){var t=this,e=0,n=0,i=!1;this.loadingChecker=setInterval(function(){t.enableloadingChecker&&(n=t.player.audio.currentTime,i||n!==e||t.player.audio.paused||(t.player.container.classList.add("aplayer-loading"),i=!0),i&&n>e&&!t.player.audio.paused&&(t.player.container.classList.remove("aplayer-loading"),i=!1),e=n)},100)}},{key:"enable",value:function(t){this["enable"+t+"Checker"]=!0,"fps"===t&&this.initfpsChecker()}},{key:"disable",value:function(t){this["enable"+t+"Checker"]=!1}},{key:"destroy",value:function(){var t=this;this.types.forEach(function(e){t["enable"+e+"Checker"]=!1,t[e+"Checker"]&&clearInterval(t[e+"Checker"])})}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(n(0)),o=r(n(3));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),a.default.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}return i(t,[{key:"initPlayButton",value:function(){var t=this;this.player.template.pic.addEventListener("click",function(){t.player.toggle()})}},{key:"initPlayBar",value:function(){var t=this,e=function(e){var n=((e.clientX||e.changedTouches[0].clientX)-a.default.getElementViewLeft(t.player.template.barWrap))/t.player.template.barWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),t.player.bar.set("played",n,"width"),t.player.lrc&&t.player.lrc.update(n*t.player.duration),t.player.template.ptime.innerHTML=a.default.secondToTime(n*t.player.duration)},n=function n(i){document.removeEventListener(a.default.nameMap.dragEnd,n),document.removeEventListener(a.default.nameMap.dragMove,e);var o=((i.clientX||i.changedTouches[0].clientX)-a.default.getElementViewLeft(t.player.template.barWrap))/t.player.template.barWrap.clientWidth;o=Math.max(o,0),o=Math.min(o,1),t.player.bar.set("played",o,"width"),t.player.seek(t.player.bar.get("played","width")*t.player.duration),t.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(a.default.nameMap.dragStart,function(){t.player.disableTimeupdate=!0,document.addEventListener(a.default.nameMap.dragMove,e),document.addEventListener(a.default.nameMap.dragEnd,n)})}},{key:"initVolumeButton",value:function(){var t=this;this.player.template.volumeButton.addEventListener("click",function(){t.player.audio.muted?(t.player.audio.muted=!1,t.player.switchVolumeIcon(),t.player.bar.set("volume",t.player.volume(),"height")):(t.player.audio.muted=!0,t.player.switchVolumeIcon(),t.player.bar.set("volume",0,"height"))});var e=function(e){var n=1-((e.clientY||e.changedTouches[0].clientY)-a.default.getElementViewTop(t.player.template.volumeBar,t.player.options.fixed))/t.player.template.volumeBar.clientHeight;n=Math.max(n,0),n=Math.min(n,1),t.player.volume(n)},n=function n(i){t.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener(a.default.nameMap.dragEnd,n),document.removeEventListener(a.default.nameMap.dragMove,e);var o=1-((i.clientY||i.changedTouches[0].clientY)-a.default.getElementViewTop(t.player.template.volumeBar,t.player.options.fixed))/t.player.template.volumeBar.clientHeight;o=Math.max(o,0),o=Math.min(o,1),t.player.volume(o)};this.player.template.volumeBarWrap.addEventListener(a.default.nameMap.dragStart,function(){t.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener(a.default.nameMap.dragMove,e),document.addEventListener(a.default.nameMap.dragEnd,n)})}},{key:"initOrderButton",value:function(){var t=this;this.player.template.order.addEventListener("click",function(){"list"===t.player.options.order?(t.player.options.order="random",t.player.template.order.innerHTML=o.default.orderRandom):"random"===t.player.options.order&&(t.player.options.order="list",t.player.template.order.innerHTML=o.default.orderList)})}},{key:"initLoopButton",value:function(){var t=this;this.player.template.loop.addEventListener("click",function(){t.player.list.audios.length>1?"one"===t.player.options.loop?(t.player.options.loop="none",t.player.template.loop.innerHTML=o.default.loopNone):"none"===t.player.options.loop?(t.player.options.loop="all",t.player.template.loop.innerHTML=o.default.loopAll):"all"===t.player.options.loop&&(t.player.options.loop="one",t.player.template.loop.innerHTML=o.default.loopOne):"one"===t.player.options.loop||"all"===t.player.options.loop?(t.player.options.loop="none",t.player.template.loop.innerHTML=o.default.loopNone):"none"===t.player.options.loop&&(t.player.options.loop="all",t.player.template.loop.innerHTML=o.default.loopAll)})}},{key:"initMenuButton",value:function(){var t=this;this.player.template.menu.addEventListener("click",function(){t.player.list.toggle()})}},{key:"initMiniSwitcher",value:function(){var t=this;this.player.template.miniSwitcher.addEventListener("click",function(){t.player.setMode("mini"===t.player.mode?"normal":"mini")})}},{key:"initSkipButton",value:function(){var t=this;this.player.template.skipBackButton.addEventListener("click",function(){t.player.skipBack()}),this.player.template.skipForwardButton.addEventListener("click",function(){t.player.skipForward()}),this.player.template.skipPlayButton.addEventListener("click",function(){t.player.toggle()})}},{key:"initLrcButton",value:function(){var t=this;this.player.template.lrcButton.addEventListener("click",function(){t.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(t.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),t.player.lrc&&t.player.lrc.show()):(t.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),t.player.lrc&&t.player.lrc.hide())})}}]),t}();e.default=s},function(t,e,n){var i=n(2);t.exports=function(t){t=t||{};var e="",n=i.$each,a=t.lyrics,o=(t.$value,t.$index,i.$escape);return n(a,function(t,n){e+="\n    <p",0===n&&(e+=' class="aplayer-lrc-current"'),e+=">",e+=o(t[1]),e+="</p>\n"}),e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(10))&&i.__esModule?i:{default:i},r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.async=e.async,this.player=e.player,this.parsed=[],this.index=0,this.current=[]}return a(t,[{key:"show",value:function(){this.player.events.trigger("lrcshow"),this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide"),this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||t<this.current[this.index][0]||!this.current[this.index+1]||t>=this.current[this.index+1][0])for(var e=0;e<this.current.length;e++)t>=this.current[e][0]&&(!this.current[e+1]||t<this.current[e+1][0])&&(this.index=e,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[e].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(t){var e=this;if(!this.parsed[t])if(this.async){this.parsed[t]=[["00:00","Loading"]];var n=new XMLHttpRequest;n.onreadystatechange=function(){t===e.player.list.index&&4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?e.parsed[t]=e.parse(n.responseText):(e.player.notice("LRC file request fails: status "+n.status),e.parsed[t]=[["00:00","Not available"]]),e.container.innerHTML=(0,o.default)({lyrics:e.parsed[t]}),e.update(0),e.current=e.parsed[t])};var i=this.player.list.audios[t].lrc;n.open("get",i,!0),n.send(null)}else this.player.list.audios[t].lrc?this.parsed[t]=this.parse(this.player.list.audios[t].lrc):this.parsed[t]=[["00:00","Not available"]];this.container.innerHTML=(0,o.default)({lyrics:this.parsed[t]}),this.update(0),this.current=this.parsed[t]}},{key:"parse",value:function(t){if(t){for(var e=(t=t.replace(/([^\]^\n])\[/g,function(t,e){return e+"\n["})).split("\n"),n=[],i=e.length,a=0;a<i;a++){var o=e[a].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),r=e[a].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(o)for(var s=o.length,l=0;l<s;l++){var u=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(o[l]),c=60*u[1]+parseInt(u[2])+(u[4]?parseInt(u[4])/(2===(u[4]+"").length?100:1e3):0);n.push([c,r])}}return(n=n.filter(function(t){return t[1]})).sort(function(t,e){return t[0]-e[0]}),n}return[]}},{key:"remove",value:function(t){this.parsed.splice(t,1)}},{key:"clear",value:function(){this.parsed=[],this.container.innerHTML=""}}]),t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(i=n(0))&&i.__esModule?i:{default:i},r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageName=e.options.storageName,this.data=JSON.parse(o.default.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||e.options.volume}return a(t,[{key:"get",value:function(t){return this.data[t]}},{key:"set",value:function(t,e){this.data[t]=e,o.default.storage.set(this.storageName,p()(this.data))}}]),t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements={},this.elements.volume=e.volume,this.elements.played=e.played,this.elements.loaded=e.loaded}return i(t,[{key:"set",value:function(t,e,n){e=Math.max(e,0),e=Math.min(e,1),this.elements[t].style[n]=100*e+"%"}},{key:"get",value:function(t,e){return parseFloat(this.elements[t].style[e])/100}}]),t}();e.default=a},function(t,e,n){(function(e){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(e.process)}catch(t){}}).call(this,n(4))},function(t,e,n){(function(e){var i=n(14),a=d()(i?e:window),o=/["&'<>]/;a.$escape=function(t){return function(t){var e=""+t,n=o.exec(e);if(!n)return t;var i="",a=void 0,r=void 0,s=void 0;for(a=n.index,r=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}r!==a&&(i+=e.substring(r,a)),r=a+1,i+=s}return r!==a?i+e.substring(r,a):i}(function t(e){return"string"!=typeof e&&(e=void 0===e||null===e?"":"function"==typeof e?t(e.call(e)):p()(e)),e}(t))},a.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var a in t)e(t[a],a)},t.exports=a}).call(this,n(4))},function(t,e,n){var i=n(2);t.exports=function(t){var e="",a=(t=t||{}).options,o=t.cover,r=i.$escape,s=t.icons,l=(arguments[1],function(t){return e+=t}),u=t.getObject;return t.theme,t.audio,t.index,a.fixed?(e+='\n<div class="aplayer-list',a.listFolded&&(e+=" aplayer-list-hide"),e+='"',a.listMaxHeight&&(e+=' style="max-height: ',e+=r(a.listMaxHeight),e+='"'),e+=">\n    <ol",a.listMaxHeight&&(e+=' style="max-height: ',e+=r(a.listMaxHeight),e+='"'),e+=">\n        ",l(n(1)(u({theme:a.theme,audio:a.audio,index:1}))),e+='\n    </ol>\n</div>\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(e+="background-image: url(&quot;",e+=r(o),e+="&quot;);"),e+="background-color: ",e+=r(a.theme),e+=';">\n        <div class="aplayer-button aplayer-play">',e+=s.play,e+='</div>\n    </div>\n    <div class="aplayer-info" style="display: none;">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',e+=r(a.theme),e+=';">\n                        <span class="aplayer-thumb" style="background: ',e+=r(a.theme),e+=';">\n                            <span class="aplayer-loading-icon">',e+=s.loading,e+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',e+=s.skip,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',e+=s.play,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',e+=s.skip,e+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',e+=s.volumeDown,e+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',e+=r(a.theme),e+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===a.order?e+=s.orderList:"random"===a.order&&(e+=s.orderRandom),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===a.loop?e+=s.loopOne:"all"===a.loop?e+=s.loopAll:"none"===a.loop&&(e+=s.loopNone),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',e+=s.menu,e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',e+=s.lrc,e+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',e+=s.right,e+='</button></div>\n</div>\n<div class="aplayer-lrc">\n    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n</div>\n'):(e+='\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(e+="background-image: url(&quot;",e+=r(o),e+="&quot;);"),e+="background-color: ",e+=r(a.theme),e+=';">\n        <div class="aplayer-button aplayer-play">',e+=s.play,e+='</div>\n    </div>\n    <div class="aplayer-info">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-lrc">\n            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',e+=r(a.theme),e+=';">\n                        <span class="aplayer-thumb" style="background: ',e+=r(a.theme),e+=';">\n                            <span class="aplayer-loading-icon">',e+=s.loading,e+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',e+=s.skip,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',e+=s.play,e+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',e+=s.skip,e+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',e+=s.volumeDown,e+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',e+=r(a.theme),e+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===a.order?e+=s.orderList:"random"===a.order&&(e+=s.orderRandom),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===a.loop?e+=s.loopOne:"all"===a.loop?e+=s.loopAll:"none"===a.loop&&(e+=s.loopNone),e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',e+=s.menu,e+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',e+=s.lrc,e+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',e+=s.right,e+='</button></div>\n</div>\n<div class="aplayer-list',a.listFolded&&(e+=" aplayer-list-hide"),e+='"',a.listMaxHeight&&(e+=' style="max-height: ',e+=r(a.listMaxHeight),e+='"'),e+=">\n    <ol",a.listMaxHeight&&(e+=' style="max-height: ',e+=r(a.listMaxHeight),e+='"'),e+=">\n        ",l(n(1)(u({theme:a.theme,audio:a.audio,index:1}))),e+="\n    </ol>\n</div>\n"),e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(n(3)),o=r(n(16));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.options=e.options,this.randomOrder=e.randomOrder,this.init()}return i(t,[{key:"init",value:function(){var t="";this.options.audio.length&&(t="random"===this.options.order?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=(0,o.default)({options:this.options,icons:a.default,cover:t,getObject:function(t){return t}}),this.lrc=this.container.querySelector(".aplayer-lrc-contents"),this.lrcWrap=this.container.querySelector(".aplayer-lrc"),this.ptime=this.container.querySelector(".aplayer-ptime"),this.info=this.container.querySelector(".aplayer-info"),this.time=this.container.querySelector(".aplayer-time"),this.barWrap=this.container.querySelector(".aplayer-bar-wrap"),this.button=this.container.querySelector(".aplayer-button"),this.body=this.container.querySelector(".aplayer-body"),this.list=this.container.querySelector(".aplayer-list"),this.listOl=this.container.querySelector(".aplayer-list ol"),this.listCurs=this.container.querySelectorAll(".aplayer-list-cur"),this.played=this.container.querySelector(".aplayer-played"),this.loaded=this.container.querySelector(".aplayer-loaded"),this.thumb=this.container.querySelector(".aplayer-thumb"),this.volume=this.container.querySelector(".aplayer-volume"),this.volumeBar=this.container.querySelector(".aplayer-volume-bar"),this.volumeButton=this.container.querySelector(".aplayer-time button"),this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap"),this.loop=this.container.querySelector(".aplayer-icon-loop"),this.order=this.container.querySelector(".aplayer-icon-order"),this.menu=this.container.querySelector(".aplayer-icon-menu"),this.pic=this.container.querySelector(".aplayer-pic"),this.title=this.container.querySelector(".aplayer-title"),this.author=this.container.querySelector(".aplayer-author"),this.dtime=this.container.querySelector(".aplayer-dtime"),this.notice=this.container.querySelector(".aplayer-notice"),this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher"),this.skipBackButton=this.container.querySelector(".aplayer-icon-back"),this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward"),this.skipPlayButton=this.container.querySelector(".aplayer-icon-play"),this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={container:t.element||document.getElementsByClassName("aplayer")[0],mini:t.narrow||t.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:t.showlrc||t.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:t.fixed,listMaxHeight:t.listmaxheight||"250px",audio:t.music||[],storageName:"aplayer-setting"};for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);return"[object Array]"!==Object.prototype.toString.call(t.audio)&&(t.audio=[t.audio]),t.audio.map(function(t){return t.name=t.name||t.title||"Audio name",t.artist=t.artist||t.author||"Audio artist",t.cover=t.cover||t.pic,t.type=t.type||"normal",t}),t.audio.length<=1&&"one"===t.loop&&(t.loop="all"),t}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(t,e,n){var i,a,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(t){a=s}}();var u,c=[],d=!1,h=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!d){var t=l(p);d=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,d=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(t,e){!function(t,n){if(!t.setImmediate){var i,a,o,r,s,l=1,c={},d=!1,h=t.document,p=u.a&&u()(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){m(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(r="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&m(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(r+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){m(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(a=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,a.removeChild(e),e=null},a.appendChild(e)}):i=function(t){setTimeout(m,0,t)},p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return c[l]=a,i(l),l++},p.clearImmediate=f}function f(t){delete c[t]}function m(t){if(d)setTimeout(m,0,t);else{var e=c[t];if(e){d=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),d=!1}}}}}("undefined"==typeof self?void 0===t?void 0:t:self)}).call(this,n(4),n(34))},function(t,e,n){var i=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(35),e.setImmediate=s.a,e.clearImmediate=o.a},function(t,e,n){(function(e){var n="function"==typeof v.a&&"symbol"==k()(m.a)?function(t){return void 0===t?"undefined":k()(t)}:function(t){return t&&"function"==typeof v.a&&t.constructor===v.a&&t!==v.a.prototype?"symbol":void 0===t?"undefined":k()(t)},i=setTimeout;function a(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void l(e.promise,t)}s(e.promise,i)}else(1===t._state?s:l)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":n(e))||"function"==typeof e)){var i=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof i)return void c((a=i,r=e,function(){a.apply(r,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){l(t,e)}var a,r}function l(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,l(e,t))})}catch(t){if(n)return;n=!0,l(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(a);return r(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,i){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(t);if(0===a.length)return e([]);var o=a.length;function r(t,s){try{if(s&&("object"===(void 0===s?"undefined":n(s))||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){r(t,e)},i)}a[t]=s,0==--o&&e(a)}catch(t){i(t)}}for(var s=0;s<a.length;s++)r(s,a[s])})},o.resolve=function(t){return t&&"object"===(void 0===t?"undefined":n(t))&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var i=0,a=t.length;i<a;i++)t[i].then(e,n)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){i(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},t.exports=o}).call(this,n(36).setImmediate)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),x()(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=y(n(37)),o=y(n(0)),r=y(n(3)),s=y(n(18)),l=y(n(17)),u=y(n(13)),c=y(n(12)),d=y(n(11)),h=y(n(9)),p=y(n(8)),f=y(n(7)),m=y(n(6));function y(t){return t&&t.__esModule?t:{default:t}}var v=[],g=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,s.default)(e),this.container=this.options.container,this.paused=!0,this.playedPromise=a.default.resolve(),this.mode="normal",this.randomOrder=o.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),o.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,2===this.options.lrcType||!0===this.options.lrcType)for(var n=this.container.getElementsByClassName("aplayer-lrc-content"),i=0;i<n.length;i++)this.options.audio[i]&&(this.options.audio[i].lrc=n[i].innerHTML);this.template=new l.default({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px"),this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block"),this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow"),this.options.lrcType&&(this.lrc=new d.default({container:this.template.lrc,async:3===this.options.lrcType,player:this})),this.events=new f.default,this.storage=new c.default(this),this.bar=new u.default(this.template),this.controller=new h.default(this),this.timer=new p.default(this),this.list=new m.default(this),this.initAudio(),this.bindEvents(),"random"===this.options.order?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),v.push(this)}return i(t,[{key:"initAudio",value:function(){var t=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var e=function(e){t.audio.addEventListener(t.events.audioEvents[e],function(n){t.events.trigger(t.events.audioEvents[e],n)})},n=0;n<this.events.audioEvents.length;n++)e(n);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var t=this;this.on("play",function(){t.paused&&t.setUIPlaying()}),this.on("pause",function(){t.paused||t.setUIPaused()}),this.on("timeupdate",function(){if(!t.disableTimeupdate){t.bar.set("played",t.audio.currentTime/t.duration,"width"),t.lrc&&t.lrc.update();var e=o.default.secondToTime(t.audio.currentTime);t.template.ptime.innerHTML!==e&&(t.template.ptime.innerHTML=e)}}),this.on("durationchange",function(){1!==t.duration&&(t.template.dtime.innerHTML=o.default.secondToTime(t.duration))}),this.on("progress",function(){var e=t.audio.buffered.length?t.audio.buffered.end(t.audio.buffered.length-1)/t.duration:0;t.bar.set("loaded",e,"width")});var e=void 0;this.on("error",function(){t.list.audios.length>1?(t.notice("An audio error has occurred, player will skip forward in 2 seconds."),e=setTimeout(function(){t.skipForward(),t.paused||t.play()},2e3)):1===t.list.audios.length&&t.notice("An audio error has occurred.")}),this.events.on("listswitch",function(){e&&clearTimeout(e)}),this.on("ended",function(){"none"===t.options.loop?"list"===t.options.order?t.list.index<t.list.audios.length-1?(t.list.switch((t.list.index+1)%t.list.audios.length),t.play()):(t.list.switch((t.list.index+1)%t.list.audios.length),t.pause()):"random"===t.options.order&&(t.randomOrder.indexOf(t.list.index)<t.randomOrder.length-1?(t.list.switch(t.nextIndex()),t.play()):(t.list.switch(t.nextIndex()),t.pause())):"one"===t.options.loop?(t.list.switch(t.list.index),t.play()):"all"===t.options.loop&&(t.skipForward(),t.play())})}},{key:"setAudio",value:function(t){this.hls&&(this.hls.destroy(),this.hls=null);var e=t.type;this.options.customAudioType&&this.options.customAudioType[e]?"[object Function]"===Object.prototype.toString.call(this.options.customAudioType[e])?this.options.customAudioType[e](this.audio,t,this):console.error("Illegal customType: "+e):(e&&"auto"!==e||(e=/m3u8(#|\?|$)/i.exec(t.url)?"hls":"normal"),"hls"===e?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(t.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=t.url:this.notice("Error: HLS is not supported."):"normal"===e&&(this.audio.src=t.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.list.audios[e]&&(this.list.audios[e].theme=t),this.template.listCurs[e]&&(this.template.listCurs[e].style.backgroundColor=t),e===this.list.index&&(this.template.pic.style.backgroundColor=t,this.template.played.style.background=t,this.template.thumb.style.background=t,this.template.volume.style.background=t)}},{key:"seek",value:function(t){t=Math.max(t,0),t=Math.min(t,this.duration),this.audio.currentTime=t,this.bar.set("played",t/this.duration,"width"),this.template.ptime.innerHTML=o.default.secondToTime(t)}},{key:"setUIPlaying",value:function(){var t=this;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout(function(){t.template.button.innerHTML=r.default.pause},100),this.template.skipPlayButton.innerHTML=r.default.pause),this.timer.enable("loading"),this.options.mutex)for(var e=0;e<v.length;e++)this!==v[e]&&v[e].pause()}},{key:"play",value:function(){var t=this;this.setUIPlaying();var e=this.audio.play();e&&e.catch(function(e){console.warn(e),"NotAllowedError"===e.name&&t.setUIPaused()})}},{key:"setUIPaused",value:function(){var t=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout(function(){t.template.button.innerHTML=r.default.play},100),this.template.skipPlayButton.innerHTML=r.default.play),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeButton.innerHTML=r.default.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=r.default.volumeDown:this.template.volumeButton.innerHTML=r.default.volumeOff}},{key:"volume",value:function(t,e){return t=parseFloat(t),isNaN(t)||(t=Math.max(t,0),t=Math.min(t,1),this.bar.set("volume",t,"height"),e||this.storage.set("volume",t),this.audio.volume=t,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(t,e){this.events.on(t,e)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(t){this.list.switch(t)}},{key:"addAudio",value:function(t){this.list.add(t)}},{key:"removeAudio",value:function(t){this.list.remove(t)}},{key:"destroy",value:function(){v.splice(v.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.mode=t,"mini"===t?this.container.classList.add("aplayer-narrow"):"normal"===t&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=t,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("noticeshow",{text:t}),n&&(this.noticeTime=setTimeout(function(){e.template.notice.style.opacity=0,e.events.trigger("noticehide")},n))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if("random"===this.options.order){var t=this.randomOrder.indexOf(this.list.index);return 0===t?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[t-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return(this.list.index+1)%this.list.audios.length;if("random"===this.options.order){var t=this.randomOrder.indexOf(this.list.index);return t===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[t+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),t}();e.default=g},,function(t,e,n){},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n(40);var i,a=(i=n(38))&&i.__esModule?i:{default:i};console.log("\n %c APlayer v1.10.1 af84efb %c http://aplayer.js.org \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),e.default=a.default}]).default},"object"==("undefined"==typeof exports?"undefined":k()(exports))&&"object"==k()(t)?t.exports=i():"function"==typeof define&&n("nErl")?define("APlayer",[],i):"object"==("undefined"==typeof exports?"undefined":k()(exports))?exports.APlayer=i():e.APlayer=i()}).call(e,n("f1Eh")(t))},SIxv:function(t,e){},VDFw:function(t,e){var n=document.getElementsByTagName("body")[0],i=document.createElement("canvas");i.id="canvas",i.style.position="fixed",i.style.left="0",i.style.top="0",n.before(i),n.style.opacity=.9,window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var a,o,r=document.getElementById("canvas"),s=r.getContext("2d"),l=window.innerWidth,u=window.innerHeight,c=[],d=[],h=180,p=5,f=0,m=40,y=0,v=!1;function g(t,e){return Math.random()*(e-t)+t}function w(t,e,n,i){var a=t-n,o=e-i;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}function b(t,e,n,i){for(this.x=t,this.y=e,this.sx=t,this.sy=e,this.tx=n,this.ty=i,this.distanceToTarget=w(t,e,n,i),this.distanceTraveled=0,this.coordinates=[],this.coordinateCount=3;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=Math.atan2(i-e,n-t),this.speed=1,this.acceleration=1.05,this.brightness=g(50,100),this.targetRadius=3}function x(t,e){for(this.x=t,this.y=e,this.coordinates=[],this.coordinateCount=5;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=g(0,2*Math.PI),this.speed=g(1,10),this.friction=.95,this.gravity=1,this.hue=g(h-20,h+20),this.brightness=g(50,80),this.alpha=1,this.decay=g(.015,.03)}r.width=l,r.height=u,b.prototype.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.targetRadius<8?this.targetRadius+=.3:this.targetRadius=1,this.speed*=this.acceleration;var e=Math.cos(this.angle)*this.speed,n=Math.sin(this.angle)*this.speed;this.distanceTraveled=w(this.sx,this.sy,this.x+e,this.y+n),this.distanceTraveled>=this.distanceToTarget?(!function(t,e){var n=200;for(;n--;)d.push(new x(t,e))}(this.tx,this.ty),c.splice(t,1)):(this.x+=e,this.y+=n)},b.prototype.draw=function(){s.beginPath(),s.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),s.lineTo(this.x,this.y),s.strokeStyle="hsl("+h+", 100%, "+this.brightness+"%)",s.stroke(),s.beginPath(),s.arc(this.tx,this.ty,this.targetRadius,0,2*Math.PI),s.stroke()},x.prototype.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&d.splice(t,1)},x.prototype.draw=function(){s.beginPath(),s.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),s.lineTo(this.x,this.y),s.strokeStyle="hsla("+this.hue+", 100%, "+this.brightness+"%, "+this.alpha+")",s.stroke()},n.addEventListener("mousemove",function(t){a=t.pageX-n.offsetLeft-window.scrollX,o=t.pageY-n.offsetTop-window.scrollY}),n.addEventListener("mousedown",function(t){v=!0}),n.addEventListener("mouseup",function(t){v=!1}),window.onload=function t(){requestAnimFrame(t),h+=.5,s.globalCompositeOperation="destination-out",s.fillStyle="rgba(0, 0, 0, 0.5)",s.fillRect(0,0,l,u),s.globalCompositeOperation="lighter";for(var e=c.length;e--;)c[e].draw(),c[e].update(e);for(e=d.length;e--;)d[e].draw(),d[e].update(e);y>=m?v||(y=0):y++,f>=p?v&&(c.push(new b(l/2,u,a,o)),f=0):f++}},Wuu4:function(t,e){},crmB:function(t,e){},"dLd/":function(t,e,n){t.exports=n.p+"static/img/logo.9c2644b.png"},fCJj:function(t,e){},gaZc:function(t,e){},njJV:function(t,e){},nn8I:function(t,e){},pX3n:function(t,e,n){"use strict";console.log("\n %c MetingJS v1.2.0 %c https://github.com/metowolf/MetingJS \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");var i=[];document.addEventListener("DOMContentLoaded",function(){function t(t,e){var n={container:t,audio:e,mini:null,fixed:null,autoplay:!1,mutex:!0,lrcType:3,listFolded:!1,preload:"auto",theme:"#2980b9",loop:"all",order:"list",volume:null,listMaxHeight:null,customAudioType:null,storageName:"metingjs"};if(e.length){e[0].lrc||(n.lrcType=0);var a={};for(var o in n){var r=o.toLowerCase();(t.dataset.hasOwnProperty(r)||t.dataset.hasOwnProperty(o)||null!==n[o])&&(a[o]=t.dataset[r]||t.dataset[o]||n[o],("true"===a[o]||"false"===a[o])&&(a[o]="true"==a[o]))}i.push(new APlayer(a))}}var e="https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r";"undefined"!=typeof meting_api&&(e=meting_api);for(var n=0;n<i.length;n++)try{i[n].destroy()}catch(t){console.log(t)}i=[];for(var a=document.querySelectorAll(".aplayer"),o=function(){var n=a[r];if(n.dataset.id){var i=n.dataset.api||e;i=(i=(i=(i=(i=i.replace(":server",n.dataset.server)).replace(":type",n.dataset.type)).replace(":id",n.dataset.id)).replace(":auth",n.dataset.auth)).replace(":r",Math.random());var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&(200<=o.status&&300>o.status||304===o.status)){var e=JSON.parse(o.responseText);t(n,e)}},o.open("get",i,!0),o.send(null)}else if(n.dataset.url){var s=[{name:n.dataset.name||n.dataset.title||"Audio name",artist:n.dataset.artist||n.dataset.author||"Audio artist",url:n.dataset.url,cover:n.dataset.cover||n.dataset.pic,lrc:n.dataset.lrc,type:n.dataset.type||"auto"}];t(n,s)}},r=0;r<a.length;r++)o()},!1)},sjH1:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4d8e176189c313b04add.js.map